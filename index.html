<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Compliance Frameworks</title>
  <base href="/">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <!-- Compiled SASS output -->
  <link href="/dist/css/styles.css" rel="stylesheet" />
</head>

<body>
  <!-- Header Section -->
  <header class="app-header">
    <div>
      <!-- Header content can be added here if needed -->
    </div>
  </header>

  <main class="page-main">
    <!-- Page Header Section -->
    <section class="page-header">
      <div class="header-frame">
        <!-- Left: Icon + Title + Breadcrumb -->
        <div class="header-info">
          <div class="icon">
            <span class="icon-wrapper compliance-framework-icon"></span>
          </div>
          <div class="info-header">
            <h2 class="info-title">Compliance Frameworks</h2>
            <nav class="breadcrumb" aria-label="breadcrumb">
              <ol class="breadcrumb-list">
                <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Admin</a></li>
                <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Compliance
                    Frameworks</a></li>
              </ol>
            </nav>
          </div>
        </div>

        <!-- Right: Actions -->
        <div class="header-actions">
          <button type="button" class="help-button">
            <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_201_10557)">
                <path
                  d="M4.4 10.7H6.2V12.5H4.4V10.7ZM5.6 0.5C8.81 0.632 10.208 3.872 8.3 6.302C7.802 6.902 6.998 7.298 6.602 7.802C6.2 8.3 6.2 8.9 6.2 9.5H4.4C4.4 8.498 4.4 7.652 4.802 7.052C5.198 6.452 6.002 6.098 6.5 5.702C7.952 4.358 7.592 2.456 5.6 2.3C5.12261 2.3 4.66477 2.48964 4.32721 2.82721C3.98964 3.16477 3.8 3.62261 3.8 4.1H2C2 3.14522 2.37928 2.22955 3.05442 1.55442C3.72955 0.879285 4.64522 0.5 5.6 0.5Z"
                  fill="white" />
              </g>
              <defs>
                <clipPath id="clip0_201_10557">
                  <rect width="12" height="12" fill="white" transform="translate(0 0.5)" />
                </clipPath>
              </defs>
            </svg>
            <span>Help</span></button>
          <button type="button" class="new-framework-button" onclick="openNewFrameworkModal()">
            <svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11 7.21417H6.71417V11.5H5.28583V7.21417H1V5.78583H5.28583V1.5H6.71417V5.78583H11V7.21417Z"
                fill="white" />
            </svg>
            <span>New Custom Framework</span> <span class="count-badge">1/2</span>
          </button>
        </div>
      </div>
    </section>

    <div class="table-layout">
      <aside class="table-sidebar">
        <nav aria-label="Frameworks">
          <ul id="frameworkList" class="framework-list"></ul>
        </nav>
      </aside>

      <section class="table-content">
        <div class="table-card">
          <div class="table-card-body hidden">
            <div id="tableToolbar" class="table-toolbar-controls hidden">
              <div class="search-group">
                <label for="tableSearch">Search</label>
                <div class="search-input-wrapper">
                  <input id="tableSearch" type="search" class="search-input" aria-label="Search control items" />
                  <button type="button" class="search-clear" id="searchClear" aria-label="Clear search"
                    style="display: none;">
                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10.5 3.5L3.5 10.5M3.5 3.5l7 7" stroke="currentColor" stroke-width="1.5"
                        stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
            <div class="custom-table-container" id="tableContainer">
              <table class="custom-table" aria-label="Control items">
                <thead>
                  <tr>
                    <th>Control ID</th>
                    <th>Control Category</th>
                    <th>Control Description</th>
                  </tr>
                </thead>
                <tbody id="customTableBody"><!-- Filled dynamically --></tbody>
              </table>
            </div>
            <div class="table-footer">
              <div class="table-footer-content">
                <div class="pagination-controls">
                  <label class="pagination-label" for="pageSize">Show</label>
                  <select id="pageSize" class="pagination-select">
                    <option>10</option>
                    <option>25</option>
                    <option>50</option>
                  </select>
                  <span class="pagination-label">entries</span>
                </div>
                <div id="pageInfo" class="showing-info" aria-live="polite">&nbsp;</div>
                <div id="pageNav" class="page-nav">
                  <!-- Pagination buttons will be inserted here -->
                </div>
              </div>
            </div>
          </div>
          <!-- Default empty state: No framework selected -->
          <div id="tableHost" class="table-empty-list">
            <div class="empty-list-content">
              <div class="empty-list-icon"></div>
              <p class="empty-list-text">Please select framework from list in the left side or <a href="#"
                  onclick="openNewFrameworkModal()">click here</a> to add new framework</p>
            </div>
          </div>

          <!-- No data state: Framework selected but no control items -->
          <div id="noDataState" class="table-empty-list" style="display: none;">
            <div class="empty-list-content">
              <div class="empty-list-icon"></div>
              <p class="empty-list-text">No control items found for this framework.</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer Section -->
  <footer class="app-footer">
    <div>
      <!-- Footer content can be added here if needed -->
    </div>
  </footer>

  <!-- New Custom Framework Modal -->
  <div class="custom-modal" id="newFrameworkModal" style="display: none;">
    <div class="custom-modal-backdrop" onclick="closeNewFrameworkModal()"></div>
    <div class="custom-modal-dialog">
      <div class="custom-modal-content">
        <div class="custom-modal-header">
          <div class="custom-modal-title-wrapper">
            <h2 class="custom-modal-title" id="newFrameworkModalLabel">Add New Framework <span
                class="step-indicator">1/2</span></h2>
            <p class="custom-modal-description">Please fill in the details of the new framework.</p>
          </div>
          <button type="button" class="custom-modal-close modal-close-icon" onclick="closeNewFrameworkModal()"
            aria-label="Close"></button>
        </div>
        <div class="custom-modal-body">
          <div id="frameworkStepper" class="stepper" data-step="1">
            <!-- Stepper header -->
            <div class="stepper-head">
              <div class="step-indicator-wrapper">
                <div class="step-badge active" aria-hidden="true"><span>01</span></div>
                <div class="step-label">Framework Details</div>
              </div>
              <div class="step-indicator-wrapper">
                <div class="step-badge" aria-hidden="true"><span>02</span></div>
                <div class="step-label">Control Items</div>
              </div>
            </div>

            <!-- Steps -->
            <div class="step" data-index="1" data-validate="#frameworkForm">
              <form id="frameworkForm" class="custom-form" novalidate>
                <div class="form-notice">You can 1 Enterprise Framework license available.</div>
                <div class="form-row">
                  <div class="form-group">
                    <label class="form-label">Name</label>
                    <input class="form-input" name="name" required placeholder="Enter name" />
                    <div class="form-error">Name is required.</div>
                  </div>
                  <div class="form-group">
                    <label class="form-label">Short Name</label>
                    <input class="form-input" name="shortName" required placeholder="Enter short name" />
                    <div class="form-error">Short name is required.</div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group full-width checkbox-group">
                    <label class="form-label" for="logoCheckbox">Upload Framework Logo</label>
                    <input id="logoCheckbox" name="logoCheckbox" type="checkbox" class="form-input" />
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group full-width">
                    <label class="form-label">Description</label>
                    <textarea name="description" class="form-input" rows="4" required
                      placeholder="Please add description"></textarea>
                    <div class="form-error">Description is required.</div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="form-group full-width">
                    <label class="form-label">Upload Template</label>
                    <div class="custom-file-upload">
                      <div class="file-upload-wrapper">
                        <label for="templateFile" class="file-upload-label">Select File</label>
                        <span class="file-upload-filename" id="templateFileName"></span>
                      </div>
                      <input id="templateFile" name="template" type="file" accept=".csv,.json,.xlsx" required />
                      <div class="form-error">Template file is required.</div>
                    </div>
                  </div>
                </div>
              </form>
            </div>

            <div class="step" data-index="2">
              <div class="custom-table-container">
                <table class="custom-table" id="newFwItemsTable">
                  <thead>
                    <tr>
                      <th style="width: 160px;">Control ID</th>
                      <th style="width: 240px;">Control Category</th>
                      <th>Control Description</th>
                      <th class="text-end" style="width: 100px;">Actions</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="custom-modal-footer">
          <div class="modal-footer-content">
            <div class="modal-footer-actions">
              <button class="btn btn-outline-secondary" data-stepper-cancel data-stepper-target="#frameworkStepper"
                onclick="closeNewFrameworkModal()">Cancel</button>
              <button class="btn btn-outline-secondary modal-prev" data-stepper-control="prev"
                data-stepper-target="#frameworkStepper">Previous Step</button>
              <div id="modalFunctionalActions" class="modal-functional-actions" data-stepper-functional-actions
                data-stepper-target="#frameworkStepper" style="display: none; gap: 8px;">
                <!-- Example functional action; you can add more of these dynamically -->
                <button type="button" id="addControlItemsBtn" class="btn btn-functional">
                  <span class="icon" aria-hidden="true">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"
                      xmlns="http://www.w3.org/2000/svg">
                      <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2h6z" />
                    </svg>
                  </span>
                  <span class="label">Add Control Items</span>
                </button>
              </div>
              <button class="btn btn-success" data-stepper-control="next" data-stepper-target="#frameworkStepper">Next ›
                Control Items</button>
              <button class="btn btn-success" data-stepper-save data-stepper-target="#frameworkStepper"
                id="saveFrameworkBtn">Save</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Our app scripts -->
  <script type="module" src="/src/js/main.js"></script>
</body>

</html>