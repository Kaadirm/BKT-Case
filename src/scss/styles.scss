@use "reset";
@use "colors" as *;
@use "icons";


html,
body {
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
  background: var(--app-bg);
}

.app-header,
.app-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 16px;
  min-height: 56px;
  background: $color-surface;
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.05);
}

.app-header {
  top: 0;
}

.app-footer {
  bottom: 0;
}

.page-main {
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;

  .page-header {
    padding: 32px 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

    .header-frame {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;

      .header-info {
        display: flex;
        align-items: center;
        gap: 24px;
        padding-left: 16px;

        .icon {
          background-color: $color-surface;
          width: 80px;
          height: 80px;
          border-radius: 999px;
          display: flex;
          align-items: center;
          justify-content: center;

          span {
            width: 48px;
            height: 48px;
          }
        }

        .info-header {
          padding: 16px 0;

          .info-title {
            font-size: 26px;
            font-weight: 600;
            color: $gray-900;
            margin: 0 0 4px 0;
          }

          .breadcrumb {

            &,
            ol {
              list-style: none;
              padding: 0;
              margin: 0;
              display: flex;
              flex-wrap: wrap;
              align-items: center;
            }

            .breadcrumb-item {
              display: inline-flex;
              align-items: center;
              font-size: 12px;

              +.breadcrumb-item::before {
                content: '›';
                color: $gray-400;
                margin: 0 4px;
                font-size: 16px;
                line-height: 18px;
                display: inline-flex;
                align-items: center;
                justify-content: center;

              }

              a {
                color: $gray-800;
                text-decoration: none;
                font-size: 12px;

                &:hover {
                  color: $gray-800;

                }
              }

              &:last-child {
                color: $gray-600;
                font-weight: 400;
              }
            }
          }
        }
      }

      .header-actions {
        display: flex;
        gap: 4px;
        align-items: center;

        .help-button {
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 6px 12px;
          gap: 4px;
          width: 72px;
          height: 33px;
          background: $gray-600;
          border-radius: 8px;
          flex-grow: 0;
          border: none;
          color: $white;
          font-weight: 500;
          font-size: 14px;
          cursor: pointer;
        }

        .new-framework-button {
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 6px 12px;
          gap: 4px;
          max-width: 246px;
          height: 33px;
          background: $brand-500;
          border-radius: 8px;
          border: none;
          cursor: pointer;
          color: $white;
          font-weight: 500;
          font-size: 14px;

          .count-badge {
            padding: 0px 4px;
            background: $white;
            border-radius: 4px;
            font-weight: 500;
            font-size: 14px;
            line-height: 21px;
            color: $brand-500;
          }
        }

      }
    }
  }

  // Table Layout Styles
  .table-layout {
    display: flex;
    gap: 16px;
    padding: 16px;
    min-height: 808px;



    .table-sidebar {
      // max-width: 480px;

      .framework-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
        // width: 480px;
        height: 808px;
        overflow-y: scroll;

        /* Hide Scrollbar */
        scrollbar-width: none;
        /* Firefox */
        -ms-overflow-style: none;
        /* Internet Explorer 10+ */

        &::-webkit-scrollbar {
          display: none;
          /* WebKit */
        }

        flex: none;
        order: 0;
        flex-grow: 1;

        .framework-item {
          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: flex-start;
          padding: 16px;
          isolation: isolate;
          height: 112px;
          background: rgba($white, 0.5);
          border-radius: 16px;
          border: none;
          text-decoration: none;
          color: inherit;
          cursor: pointer;
          transition: all 0.2s ease;
          position: relative;

          &:hover:not(.active) {
            background: rgba(255, 255, 255, 0.7);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          }

          &.active {
            background: $white;
            position: relative;
            z-index: 50;
            cursor: default;
            // border: 2px solid $brand-500;

            // White triangle indicator on the right side
            &::after {
              content: '';
              position: absolute;
              right: -9px;
              top: 50%;
              transform: translateY(-50%) rotate(90deg);
              width: 18px;
              height: 10px;
              background: #FFFFFF;
              clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
              z-index: 100;
            }
          }

          .item-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 0px;
            column-gap: 16px;

            .avatar {
              width: 80px;
              height: 80px;
              border-radius: 8px;
              flex: none;
              order: 0;
              flex-grow: 0;
              display: flex;
              align-items: center;
              justify-content: center;
              background: $color-surface;
            }

            .item-content {
              display: flex;
              flex-direction: column;
              justify-content: center;
              padding: 5px 0px;
              row-gap: 8px;


              .item-category {
                font-weight: 400;
                font-size: 12px;
                line-height: 20px;
                color: $gray-500;
              }

              .item-header {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                padding: 0px;
                row-gap: 4px;
                width: 352px;
                height: 42px;
                flex: none;
                order: 1;
                align-self: stretch;
                flex-grow: 0;

                .item-title {
                  font-weight: 600;
                  font-size: 20px;
                  line-height: 20px;
                  color: $gray-900;
                }

                .item-subtitle {
                  font-weight: 400;
                  font-size: 14px;
                  line-height: 18px;
                  color: $gray-700;
                }
              }
            }
          }

          .item-status {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            padding: 4px 6px;
            gap: 4px;
            position: absolute;
            height: 23px;
            right: 8px;
            top: 8px;
            border-radius: 8px;
            font-size: 10px;
            line-height: 15px;

            .status-icon {
              width: 10px;
              height: 10px;
            }

            .status-text {
              height: 15px;
              display: flex;
              align-items: center;
              flex: none;
              order: 1;
              flex-grow: 0;
            }

            &.status-published {
              background: $brand-100;
              color: $brand-500;
            }

            &.status-ready-to-publish {
              background: $info-100;
              color: $info-500;
            }

            &.status-ready-to-map {
              background: $purple-100;
              color: $purple-500;
            }

            &.status-mapping-in-progress {
              background: $warning-100;
              color: $warning-500;
            }

            &.status-mapping-failed {
              background: $danger-100;
              color: $danger-500;
            }

            &.status-deactivated {
              background: $gray-100;
              color: $gray-700;
            }
          }

          // Skeleton loading list
          &.skeleton {
            pointer-events: none;
            cursor: default;

            .item-container {
              .avatar {
                background: $gray-200;
                animation: skeleton-loading 1.5s ease-in-out infinite;
              }

              .item-content {

                .item-category,
                .item-title,
                .item-subtitle {
                  background: $gray-200;
                  border-radius: 4px;
                  color: transparent;
                  animation: skeleton-loading 1.5s ease-in-out infinite;
                }

                .item-category {
                  width: 80px;
                  height: 12px;
                }

                .item-title {
                  width: 120px;
                  height: 20px;
                }

                .item-subtitle {
                  width: 200px;
                  height: 14px;
                }
              }
            }

            .item-status {
              background: $gray-200;
              border-radius: 8px;
              animation: skeleton-loading 1.5s ease-in-out infinite;

              .status-icon,
              .status-text {
                opacity: 0;
              }
            }
          }
        }

        // Skeleton loading animation
        @keyframes skeleton-loading {
          0% {
            background-color: $gray-200;
          }

          50% {
            background-color: $gray-300;
          }

          100% {
            background-color: $gray-200;
          }
        }
      }
    }

    .table-content {
      flex: 1;

      .table-card {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        padding: 16px;
        background: $color-surface;
        border-radius: 16px;

        .table-card-body {
          height: 100%;
          width: 100%;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;

          &.hidden {
            display: none;
          }

          .table-toolbar-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
            justify-content: flex-start;

            &.hidden {
              display: none;
            }

            .search-group {
              display: flex;
              align-items: center;
              justify-content: flex-start;
              column-gap: 8px;
              max-width: 320px;
              overflow: hidden;

              label {
                font-size: 14px;
                color: $gray-600;
              }

              .search-input {
                background: transparent;
                padding: 6px 12px;
                gap: 4px;
                font-size: 14px;
                width: 144px;
                border: 1px solid $gray-300;
                border-radius: 8px;
                color: $color-text;
                outline: none;

                &::placeholder {
                  color: $gray-500;
                }

                &:focus {
                  outline: none;
                }
              }
            }

            .pagination-controls {
              display: flex;
              align-items: center;
              gap: 8px;

              .pagination-label {
                font-size: 14px;
                color: $color-text-secondary;
                margin: 0;
                white-space: nowrap;
              }

              .pagination-select {
                border: 1px solid $color-border;
                border-radius: 6px;
                padding: 6px 8px;
                font-size: 14px;
                background: $color-surface;
                color: $color-text;
                width: 86px;
                cursor: pointer;

                &:focus {
                  outline: none;
                  border-color: $brand-500;
                }
              }
            }
          }

          .custom-table-container {
            width: 100%;
            overflow-x: auto;
            border: 1px solid $gray-200;
            border-radius: 8px;
            height: 100%;

            .custom-table {
              width: 100%;
              border-collapse: collapse;
              font-size: 14px;

              thead {
                background: $color-surface;

                th {
                  text-align: left;
                  padding: 12px 16px;
                  font-weight: 600;
                  color: $gray-900;
                  font-size: 14px;
                  line-height: 21px;

                }
              }

              tbody {
                tr {
                  transition: background 0.2s ease;

                  &:nth-child(even) {
                    background: $color-surface;
                  }

                  &:nth-child(odd) {
                    background: $gray-100;
                  }

                  &:hover {
                    background: #e0f2fe;
                  }

                  td {
                    padding: 16px;
                    vertical-align: middle;
                    font-size: 14px;
                    color: $gray-700;
                    line-height: 21px;

                    &:first-child {
                      min-width: 127px;
                    }

                    &:nth-child(2) {
                      min-width: 210px;
                    }
                  }
                }
              }
            }
          }

          .table-footer {
            width: 100%;

            .table-footer-content {
              display: flex;
              align-items: center;
              justify-content: space-between;


              .pagination-controls {
                display: flex;
                align-items: center;
                gap: 10px;

                .pagination-label {
                  font-size: 12px;
                  color: $gray-600;
                }

                .pagination-select {
                  border: 1px solid $gray-300;
                  border-radius: 8px;
                  padding: 8px 10px;
                  font-size: 12px;
                  background: $color-surface;
                  color: $gray-900;
                  width: 68px;
                  cursor: pointer;
                  box-sizing: border-box;

                }


              }

              .showing-info {
                font-size: 12px;
                color: $gray-600;
              }

              .page-nav {
                display: flex;
                align-items: center;

                .data-table-page-btn {
                  &:first-child {
                    border-top-left-radius: 8px;
                    border-bottom-left-radius: 8px;
                  }

                  &:last-child {
                    border-top-right-radius: 8px;
                    border-bottom-right-radius: 8px;
                  }

                  &:not(:last-child) {
                    margin-right: -1px;
                  }

                  border: 1px solid $gray-300;
                  background: $color-surface;
                  color: $gray-600;
                  padding: 6px 12px;
                  font-size: 12px;
                  font-weight: 500;
                  cursor: pointer;
                  transition: all 0.2s ease;
                  min-width: 28px;
                  height: 30px;
                  display: flex;
                  align-items: center;
                  justify-content: center;

                  &:hover:not(.is-disabled):not(.is-active) {
                    background: $gray-50;
                    border-color: $gray-400;
                  }

                  &.is-active {
                    background: $gray-600;
                    color: $white;
                    border-color: $gray-600;
                    cursor: default;
                  }

                  &.is-disabled {
                    // opacity: 0.5;
                    cursor: default;
                    // color: $gray-400;
                  }
                }

                .data-table-ellipsis {
                  padding: 8px 4px;
                  color: $gray-500;
                  font-size: 12px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  min-width: 36px;
                  height: 32px;
                }
              }
            }
          }

        }

        .table-empty-list {
          display: flex;
          align-items: center;
          justify-content: center;
          color: $color-text-secondary;
          padding: 40px 20px;

          .empty-list-content {
            text-align: center;
            max-width: 527px;
            display: flex;
            flex-direction: column;
            align-items: center;
            row-gap: 16px;

            .empty-list-text {
              margin: 0;
              font-size: 16px;
              line-height: 1.4;
              color: $gray-700;
              font-weight: 400;
              max-width: 320px;

              a {
                text-decoration: none;
                font-weight: 600;
                color: $gray-700;
              }
            }
          }
        }
      }
    }
  }
}






// // Stepper
// .stepper-head .step-badge {
//   width: 28px;
//   height: 28px;
//   border-radius: 999px;
//   display: inline-flex;
//   align-items: center;
//   justify-content: center;
//   background: $brand-gray-100;
//   color: $brand-gray-600;
//   font-weight: 600;
//   font-size: .8rem;
// }

// .stepper {

//   // Only JS toggles the data-step attribute; CSS decides which step is visible.
//   .step {
//     display: none;
//   }

//   &[data-step="1"] .step[data-index="1"],
//   &[data-step="2"] .step[data-index="2"],
//   &[data-step="3"] .step[data-index="3"] {
//     display: block;
//   }
// }

// // Simple table tweaks
// .simple-table {
//   table {
//     @extend .table;
//     @extend .table-hover;
//   }

//   .table thead th {
//     white-space: nowrap;
//   }

//   .sort-indicator {
//     opacity: .45;
//   }

//   .sorted-asc .sort-indicator::after {
//     content: "\2191";
//     margin-left: .25rem;
//   }

//   .sorted-desc .sort-indicator::after {
//     content: "\2193";
//     margin-left: .25rem;
//   }
// }

// // Form validation helper
// .needs-validation.was-validated .form-control:invalid {
//   border-color: var(--bs-danger);
// }



// Icon styles
.icon {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  color: #495057;

  &.icon-grid {
    &::before {
      content: "⊞";
    }
  }
}